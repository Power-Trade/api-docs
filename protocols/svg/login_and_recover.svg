<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1678px" preserveAspectRatio="none" style="width:762px;height:1678px;" version="1.1" viewBox="0 0 762 1678" width="762px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fcab3vxrt7ru" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="38.2969" y2="1637.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="724" x2="724" y1="38.2969" y2="1637.7891"/><rect fill="#FEFECE" filter="url(#f1fcab3vxrt7ru)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="22.9951">client</text><rect fill="#FEFECE" filter="url(#f1fcab3vxrt7ru)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="8" y="1636.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="1656.7842">client</text><rect fill="#FEFECE" filter="url(#f1fcab3vxrt7ru)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="694" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="701" y="22.9951">server</text><rect fill="#FEFECE" filter="url(#f1fcab3vxrt7ru)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="694" y="1636.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="701" y="1656.7842">server</text><polygon fill="#A80036" points="712.5,141.0938,722.5,145.0938,712.5,149.0938,716.5,145.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="718.5" y1="145.0938" y2="145.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="64.3638">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="50.5" y="79.4966">"login": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="58.5" y="94.6294">"credentials": "my username",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="58.5" y="109.7622">"credentials_secret": "my password"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="50.5" y="124.895">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="140.0278">}</text><polygon fill="#A80036" points="46.5,255.7578,36.5,259.7578,46.5,263.7578,42.5,259.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="259.7578" y2="259.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="194.1606">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="60.5" y="209.2935">"login_accepted": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="68.5" y="224.4263">"timestamp": 1600336064994751232</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="239.5591">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="254.6919">}</text><polygon fill="#A80036" points="46.5,400.6875,36.5,404.6875,46.5,408.6875,42.5,404.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="404.6875" y2="404.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="308.8247">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="60.5" y="323.9575">"session_started": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="68.5" y="339.0903">"timestamp": 1600336064995013120,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="68.5" y="354.2231">"session_id": 1001,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="68.5" y="369.356">"default_channel_id": 12345</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="384.4888">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="399.6216">}</text><path d="M40,442.6875 L40,497.6875 L401,497.6875 L401,452.6875 L391,442.6875 L40,442.6875 " fill="#FBFB77" filter="url(#f1fcab3vxrt7ru)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M391,442.6875 L391,452.6875 L401,452.6875 L391,442.6875 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="46" y="459.7544">A channel represents a set of sequenced messages.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="474.8872"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="46" y="490.02">There will be a new channel_id created for each cycle.</text><polygon fill="#A80036" points="46.5,645.2813,36.5,649.2813,46.5,653.2813,42.5,649.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="649.2813" y2="649.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="523.1528">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="60.5" y="538.2856">"channel_added": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="68.5" y="553.4185">"timestamp": 1600336064995257856,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="68.5" y="568.5513">"channel_id": 12345,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="68.5" y="583.6841">"next_sequence_number": 5,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="68.5" y="598.8169">"oldest_sequence_number": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="68.5" y="613.9497">"default_stream_id": "none"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="629.0825">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="644.2153">}</text><path d="M40,687.2813 L40,878.2813 L548,878.2813 L548,697.2813 L538,687.2813 L40,687.2813 " fill="#FBFB77" filter="url(#f1fcab3vxrt7ru)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M538,687.2813 L538,697.2813 L548,697.2813 L538,687.2813 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="434" x="46" y="704.3481">No application messages will be sent until a request_stream is sent.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="719.481"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="46" y="734.6138">In a request_stream message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="749.7466"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="476" x="46" y="764.8794">- The channel_id must match the value from the channel_added message.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="780.0122"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="452" x="46" y="795.145">- A begin_sequence_number of 3 means start from the third message.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="810.2778"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="487" x="46" y="825.4106">- An end_sequence_number of "none" means send future messages as well.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="840.5435"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="441" x="46" y="855.6763">- The stream_id is an arbitrary number assigned by the client used to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="46" y="870.8091">match the requests with later responses like stream_started.</text><polygon fill="#A80036" points="712.5,1010.9375,722.5,1014.9375,712.5,1018.9375,716.5,1014.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="718.5" y1="1014.9375" y2="1014.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="903.9419">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="50.5" y="919.0747">"request_stream": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="58.5" y="934.2075">"channel_id": 12345,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="58.5" y="949.3403">"begin_sequence_number": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="58.5" y="964.4731">"end_sequence_number": "none",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="58.5" y="979.606">"stream_id": 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="50.5" y="994.7388">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="1009.8716">}</text><polygon fill="#A80036" points="46.5,1186.1328,36.5,1190.1328,46.5,1194.1328,42.5,1190.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="1190.1328" y2="1190.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1064.0044">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="60.5" y="1079.1372">"stream_started": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="68.5" y="1094.27">"timestamp": 1600336064995980544,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="68.5" y="1109.4028">"channel_id": 12345,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="68.5" y="1124.5356">"begin_sequence_number": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="68.5" y="1139.6685">"end_sequence_number": "none",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="68.5" y="1154.8013">"stream_id": 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1169.9341">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1185.0669">}</text><path d="M40,1228.1328 L40,1298.1328 L491,1298.1328 L491,1238.1328 L481,1228.1328 L40,1228.1328 " fill="#FBFB77" filter="url(#f1fcab3vxrt7ru)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M481,1228.1328 L481,1238.1328 L491,1238.1328 L481,1228.1328 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="46" y="1245.1997">Application messages follow stream_started.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="50" y="1260.3325"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="46" y="1275.4653">The first application message will have the sequence number of the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="414" x="46" y="1290.5981">preceding stream_started's begin_sequence_number field, i.e. 3.</text><polygon fill="#A80036" points="46.5,1430.7266,36.5,1434.7266,46.5,1438.7266,42.5,1434.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="1434.7266" y2="1434.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1323.731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="60.5" y="1338.8638">"deliverable": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="1353.9966">"deliverable_id": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="68.5" y="1369.1294">"symbol": "CCC",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="68.5" y="1384.2622">"decimal_places": 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="649" x="68.5" y="1399.395">"token_address": "0x0000000000000000000000000000000000000000000000000000000000000000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1414.5278">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1429.6606">}</text><polygon fill="#A80036" points="46.5,1590.7891,36.5,1594.7891,46.5,1598.7891,42.5,1594.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="723.5" y1="1594.7891" y2="1594.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1483.7935">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="60.5" y="1498.9263">"deliverable": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="1514.0591">"deliverable_id": 4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="68.5" y="1529.1919">"symbol": "DDD",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="68.5" y="1544.3247">"decimal_places": 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="649" x="68.5" y="1559.4575">"token_address": "0x0000000000000000000000000000000000000000000000000000000000000000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1574.5903">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1589.7231">}</text><!--MD5=[00f8052e18b331252741d2ff1b13706a]
@startuml
"client" -> "server" : {\n  "login": {\n    "credentials": "my username",\n    "credentials_secret": "my password"\n  }\n}
|||
"client" <- "server" : {\n  "login_accepted": {\n    "timestamp": 1600336064994751232\n  }\n}
|||
"client" <- "server" : {\n  "session_started": {\n    "timestamp": 1600336064995013120,\n    "session_id": 1001,\n    "default_channel_id": 12345\n  }\n}
|||
note right of "client" : A channel represents a set of sequenced messages.\n\nThere will be a new channel_id created for each cycle.
"client" <- "server" : {\n  "channel_added": {\n    "timestamp": 1600336064995257856,\n    "channel_id": 12345,\n    "next_sequence_number": 5,\n    "oldest_sequence_number": 1,\n    "default_stream_id": "none"\n  }\n}
|||
note right of "client" : No application messages will be sent until a request_stream is sent.\n\nIn a request_stream message:\n\n- The channel_id must match the value from the channel_added message.\n\n- A begin_sequence_number of 3 means start from the third message.\n\n- An end_sequence_number of "none" means send future messages as well.\n\n- The stream_id is an arbitrary number assigned by the client used to\nmatch the requests with later responses like stream_started.
"client" -> "server" : {\n  "request_stream": {\n    "channel_id": 12345,\n    "begin_sequence_number": 3,\n    "end_sequence_number": "none",\n    "stream_id": 1\n  }\n}
|||
"client" <- "server" : {\n  "stream_started": {\n    "timestamp": 1600336064995980544,\n    "channel_id": 12345,\n    "begin_sequence_number": 3,\n    "end_sequence_number": "none",\n    "stream_id": 1\n  }\n}
|||
note right of "client" : Application messages follow stream_started.\n\nThe first application message will have the sequence number of the\npreceding stream_started's begin_sequence_number field, i.e. 3.
"client" <- "server" : {\n  "deliverable": {\n    "deliverable_id": 3,\n    "symbol": "CCC",\n    "decimal_places": 0,\n    "token_address": "0x0000000000000000000000000000000000000000000000000000000000000000"\n  }\n}
|||
"client" <- "server" : {\n  "deliverable": {\n    "deliverable_id": 4,\n    "symbol": "DDD",\n    "decimal_places": 0,\n    "token_address": "0x0000000000000000000000000000000000000000000000000000000000000000"\n  }\n}
|||
@enduml

PlantUML version 1.2020.02(Sun Mar 01 21:22:07 AEDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>