<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' contentScriptType='application/ecmascript' contentStyleType='text/css' height='1428px' preserveAspectRatio='none' style='width:647px;height:1428px;' version='1.1' viewBox='0 0 647 1428' width='647px' zoomAndPan='magnify'>
  <defs>
    <filter height='300%' id='f1soqe48j65l9j' width='300%' x='-1' y='-1'>
      <feGaussianBlur result='blurOut' stdDeviation='2.0'/>
      <feColorMatrix in='blurOut' result='blurOut2' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0'/>
      <feOffset dx='4.0' dy='4.0' in='blurOut2' result='blurOut3'/>
      <feBlend in='SourceGraphic' in2='blurOut3' mode='normal'/>
    </filter>
  </defs>
  <g>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='1274.6484' style='stroke: #000000; stroke-width: 2.0;' width='612.5' x='13' y='72.6211'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='1120.4727' style='stroke: #000000; stroke-width: 2.0;' width='592.5' x='23' y='219.7969'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='1048.207' style='stroke: #000000; stroke-width: 2.0;' width='572.5' x='33' y='244.1074'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='352.0391'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='578.1914'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='804.3438'/>
    <rect fill='#FFFFFF' filter='url(#f1soqe48j65l9j)' height='130.2422' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='1030.4961'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='55.6211' y2='89.9316'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='89.9316' y2='130.8867'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='130.8867' y2='130.8867'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='130.8867' y2='171.8418'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='171.8418' y2='171.8418'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='171.8418' y2='212.7969'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='212.7969' y2='423.6602'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='423.6602' y2='464.6152'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='464.6152' y2='493.9258'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='493.9258' y2='534.8809'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='534.8809' y2='649.8125'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='649.8125' y2='690.7676'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='690.7676' y2='720.0781'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='720.0781' y2='761.0332'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='761.0332' y2='875.9648'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='875.9648' y2='916.9199'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='916.9199' y2='946.2305'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='946.2305' y2='987.1855'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='987.1855' y2='1167.7383'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='1167.7383' y2='1208.6934'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='1208.6934' y2='1299.3145'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='82' x2='82' y1='1299.3145' y2='1340.2695'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='82' y1='1340.2695' y2='1364.2695'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='55.6211' y2='89.9316'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='89.9316' y2='130.8867'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='130.8867' y2='130.8867'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='130.8867' y2='171.8418'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='171.8418' y2='171.8418'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='171.8418' y2='212.7969'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='212.7969' y2='423.6602'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='423.6602' y2='464.6152'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='464.6152' y2='493.9258'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='493.9258' y2='534.8809'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='534.8809' y2='649.8125'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='649.8125' y2='690.7676'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='690.7676' y2='720.0781'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='720.0781' y2='761.0332'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='761.0332' y2='875.9648'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='875.9648' y2='916.9199'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='916.9199' y2='946.2305'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='946.2305' y2='987.1855'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='987.1855' y2='1167.7383'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='1167.7383' y2='1208.6934'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='1208.6934' y2='1299.3145'/>
    <line style='stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;' x1='554.5' x2='554.5' y1='1299.3145' y2='1340.2695'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='554.5' x2='554.5' y1='1340.2695' y2='1364.2695'/>
    <rect fill='#FEFECE' filter='url(#f1soqe48j65l9j)' height='30.4883' style='stroke: #A80036; stroke-width: 1.5;' width='54' x='53' y='20.1328'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacingAndGlyphs' textLength='40' x='60' y='40.668'>
      Client
    </text>
    <rect fill='#FEFECE' filter='url(#f1soqe48j65l9j)' height='30.4883' style='stroke: #A80036; stroke-width: 1.5;' width='54' x='53' y='1363.2695'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacingAndGlyphs' textLength='40' x='60' y='1383.8047'>
      Client
    </text>
    <rect fill='#FEFECE' filter='url(#f1soqe48j65l9j)' height='30.4883' style='stroke: #A80036; stroke-width: 1.5;' width='57' x='524.5' y='20.1328'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacingAndGlyphs' textLength='43' x='531.5' y='40.668'>
      Server
    </text>
    <rect fill='#FEFECE' filter='url(#f1soqe48j65l9j)' height='30.4883' style='stroke: #A80036; stroke-width: 1.5;' width='57' x='524.5' y='1363.2695'/>
    <text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacingAndGlyphs' textLength='43' x='531.5' y='1383.8047'>
      Server
    </text>
    <path d='M13,72.6211 L219,72.6211 L219,79.6211 L209,89.6211 L13,89.6211 L13,72.6211 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='1274.6484' style='stroke: #000000; stroke-width: 2.0;' width='612.5' x='13' y='72.6211'/>
    <a href='#session_control_with_auth' xlink:href='#session_control_with_auth' target='_top' title='#session_control_with_auth' xlink:title='#session_control_with_auth' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='161' x='28' y='86.1895'>
        Session Control Protocol
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='0' x='231' y='114.5664'/>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='25' x='231' y='114.5664'>
      Note
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='150' x='256' y='114.5664'>
      : for simplicity, heartbeating
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='138' x='224.5' y='155.5215'>
      is not shown here but it is
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='47' x='365.5' y='155.5215'>
      required
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='0' x='415.5' y='155.5215'/>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='0' x='259.5' y='196.4766'/>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='118' x='259.5' y='196.4766'>
      to keep session alive
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='0' x='380.5' y='196.4766'/>
    <path d='M23,219.7969 L259,219.7969 L259,226.7969 L249,236.7969 L23,236.7969 L23,219.7969 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='1120.4727' style='stroke: #000000; stroke-width: 2.0;' width='592.5' x='23' y='219.7969'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='191' x='38' y='233.3652'>
      Order Management Protocol
    </text>
    <path d='M33,244.1074 L126,244.1074 L126,251.1074 L116,261.1074 L33,261.1074 L33,244.1074 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='1048.207' style='stroke: #000000; stroke-width: 2.0;' width='572.5' x='33' y='244.1074'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='48' x='48' y='257.6758'>
      i-Cycle
    </text>
    <polygon fill='#A80036' points='93,278.7285,83,282.7285,93,286.7285,89,282.7285' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='282.7285' y2='282.7285'/>
    <a href='#cycle_starting' xlink:href='#cycle_starting' target='_top' title='#cycle_starting' xlink:title='#cycle_starting' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='94' x='271.5' y='277.9863'>
        cycle_starting
      </text>
    </a>
    <polygon fill='#A80036' points='93,308.0391,83,312.0391,93,316.0391,89,312.0391' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='312.0391' y2='312.0391'/>
    <a href='#cycle_started' xlink:href='#cycle_started' target='_top' title='#cycle_started' xlink:title='#cycle_started' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='89' x='274' y='307.2969'>
        cycle_started
      </text>
    </a>
    <path d='M43,352.0391 L219,352.0391 L219,359.0391 L209,369.0391 L43,369.0391 L43,352.0391 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='352.0391'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='131' x='58' y='365.6074'>
      new order entering
    </text>
    <polygon fill='#A80036' points='543,411.6602,553,415.6602,543,419.6602,547,415.6602' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='549' y1='415.6602' y2='415.6602'/>
    <a href='#enter_order_ltsimple_order_ltaccount_id_gt_gt' xlink:href='#enter_order_ltsimple_order_ltaccount_id_gt_gt' target='_top' title='#enter_order_ltsimple_order_ltaccount_id_gt_gt' xlink:title='#enter_order_ltsimple_order_ltaccount_id_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='282' x='177.5' y='410.918'>
        enter_order&lt;simple_order&lt;account_id&gt;&gt;
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='268.5' y='448.2949'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='43' x='322.5' y='448.2949'>
      success
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='365.5' y='448.2949'>
      :
    </text>
    <polygon fill='#A80036' points='93,481.9258,83,485.9258,93,489.9258,89,485.9258' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='485.9258' y2='485.9258'/>
    <a href='#order_entered_ltsimple_order_ltaccount_id_gt_gt' xlink:href='#order_entered_ltsimple_order_ltaccount_id_gt_gt' target='_top' title='#order_entered_ltsimple_order_ltaccount_id_gt_gt' xlink:title='#order_entered_ltsimple_order_ltaccount_id_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='299' x='169' y='481.1836'>
        order_entered&lt;simple_order&lt;account_id&gt;&gt;
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='271.5' y='518.5605'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='37' x='325.5' y='518.5605'>
      failure
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='362.5' y='518.5605'>
      :
    </text>
    <polygon fill='#A80036' points='93,552.1914,83,556.1914,93,560.1914,89,556.1914' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='556.1914' y2='556.1914'/>
    <a href='#order_action_rejected_ltenter_order_ltsimple_order_ltaccount_id_gt_gt_gt' xlink:href='#order_action_rejected_ltenter_order_ltsimple_order_ltaccount_id_gt_gt_gt' target='_top' title='#order_action_rejected_ltenter_order_ltsimple_order_ltaccount_id_gt_gt_gt' xlink:title='#order_action_rejected_ltenter_order_ltsimple_order_ltaccount_id_gt_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='449' x='94' y='551.4492'>
        order_action_rejected&lt;enter_order&lt;simple_order&lt;account_id&gt;&gt;&gt;
      </text>
    </a>
    <path d='M43,578.1914 L354,578.1914 L354,585.1914 L344,595.1914 L43,595.1914 L43,578.1914 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='578.1914'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='177' x='58' y='591.7598'>
      cancelation of order using
    </text>
    <a href='#order_token' xlink:href='#order_token' target='_top' title='#order_token' xlink:title='#order_token' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='82' x='239' y='591.7598'>
        order_token
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='3' x='321' y='591.7598'>
      :
    </text>
    <polygon fill='#A80036' points='543,637.8125,553,641.8125,543,645.8125,547,641.8125' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='549' y1='641.8125' y2='641.8125'/>
    <a href='#cancel_order_ltorder_token_gt' xlink:href='#cancel_order_ltorder_token_gt' target='_top' title='#cancel_order_ltorder_token_gt' xlink:title='#cancel_order_ltorder_token_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='189' x='224' y='637.0703'>
        cancel_order&lt;order_token&gt;
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='268.5' y='674.4473'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='43' x='322.5' y='674.4473'>
      success
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='365.5' y='674.4473'>
      :
    </text>
    <polygon fill='#A80036' points='93,708.0781,83,712.0781,93,716.0781,89,712.0781' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='712.0781' y2='712.0781'/>
    <a href='#order_cancelled' xlink:href='#order_cancelled' target='_top' title='#order_cancelled' xlink:title='#order_cancelled' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='108' x='264.5' y='707.3359'>
        order_cancelled
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='271.5' y='744.7129'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='37' x='325.5' y='744.7129'>
      failure
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='362.5' y='744.7129'>
      :
    </text>
    <polygon fill='#A80036' points='93,778.3438,83,782.3438,93,786.3438,89,782.3438' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='782.3438' y2='782.3438'/>
    <a href='#order_action_rejected_ltcancel_order_ltorder_token_gt_gt' xlink:href='#order_action_rejected_ltcancel_order_ltorder_token_gt_gt' target='_top' title='#order_action_rejected_ltcancel_order_ltorder_token_gt_gt' xlink:title='#order_action_rejected_ltcancel_order_ltorder_token_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='356' x='140.5' y='777.6016'>
        order_action_rejected&lt;cancel_order&lt;order_token&gt;&gt;
      </text>
    </a>
    <path d='M43,804.3438 L329,804.3438 L329,811.3438 L319,821.3438 L43,821.3438 L43,804.3438 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='212.1523' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='804.3438'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='177' x='58' y='817.9121'>
      cancelation of order using
    </text>
    <a href='#order_id' xlink:href='#order_id' target='_top' title='#order_id' xlink:title='#order_id' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='57' x='239' y='817.9121'>
        order_id
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='3' x='296' y='817.9121'>
      :
    </text>
    <polygon fill='#A80036' points='543,863.9648,553,867.9648,543,871.9648,547,867.9648' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='82' x2='549' y1='867.9648' y2='867.9648'/>
    <a href='#cancel_order_ltorder_id_gt' xlink:href='#cancel_order_ltorder_id_gt' target='_top' title='#cancel_order_ltorder_id_gt' xlink:title='#cancel_order_ltorder_id_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='164' x='236.5' y='863.2227'>
        cancel_order&lt;order_id&gt;
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='268.5' y='900.5996'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='43' x='322.5' y='900.5996'>
      success
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='365.5' y='900.5996'>
      :
    </text>
    <polygon fill='#A80036' points='93,934.2305,83,938.2305,93,942.2305,89,938.2305' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='938.2305' y2='938.2305'/>
    <a href='#order_cancelled' xlink:href='#order_cancelled' target='_top' title='#order_cancelled' xlink:title='#order_cancelled' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='108' x='264.5' y='933.4883'>
        order_cancelled
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='51' x='271.5' y='970.8652'>
      in case of
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='37' x='325.5' y='970.8652'>
      failure
    </text>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='3' x='362.5' y='970.8652'>
      :
    </text>
    <polygon fill='#A80036' points='93,1004.4961,83,1008.4961,93,1012.4961,89,1008.4961' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1008.4961' y2='1008.4961'/>
    <a href='#order_action_rejected_ltcancel_order_ltorder_id_gt_gt' xlink:href='#order_action_rejected_ltcancel_order_ltorder_id_gt_gt' target='_top' title='#order_action_rejected_ltcancel_order_ltorder_id_gt_gt' xlink:title='#order_action_rejected_ltcancel_order_ltorder_id_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='331' x='153' y='1003.7539'>
        order_action_rejected&lt;cancel_order&lt;order_id&gt;&gt;
      </text>
    </a>
    <path d='M43,1030.4961 L453,1030.4961 L453,1037.4961 L443,1047.4961 L43,1047.4961 L43,1030.4961 ' fill='#EEEEEE' style='stroke: #000000; stroke-width: 1.0;'/>
    <rect fill='none' height='130.2422' style='stroke: #000000; stroke-width: 2.0;' width='552.5' x='43' y='1030.4961'/>
    <text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' textLength='365' x='58' y='1044.0645'>
      examples of asynchronous order-related notifications
    </text>
    <polygon fill='#A80036' points='93,1090.1172,83,1094.1172,93,1098.1172,89,1094.1172' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1094.1172' y2='1094.1172'/>
    <a href='#order_executed' xlink:href='#order_executed' target='_top' title='#order_executed' xlink:title='#order_executed' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='106' x='265.5' y='1089.375'>
        order_executed
      </text>
    </a>
    <polygon fill='#A80036' points='93,1119.4277,83,1123.4277,93,1127.4277,89,1123.4277' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1123.4277' y2='1123.4277'/>
    <a href='#order_updated' xlink:href='#order_updated' target='_top' title='#order_updated' xlink:title='#order_updated' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='101' x='268' y='1118.6855'>
        order_updated
      </text>
    </a>
    <polygon fill='#A80036' points='93,1148.7383,83,1152.7383,93,1156.7383,89,1152.7383' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1152.7383' y2='1152.7383'/>
    <a href='#order_restated_ltsimple_order_ltaccount_id_gt_gt' xlink:href='#order_restated_ltsimple_order_ltaccount_id_gt_gt' target='_top' title='#order_restated_ltsimple_order_ltaccount_id_gt_gt' xlink:title='#order_restated_ltsimple_order_ltaccount_id_gt_gt' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='302' x='167.5' y='1147.9961'>
        order_restated&lt;simple_order&lt;account_id&gt;&gt;
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='53' x='292' y='1192.373'>
      and so on
    </text>
    <polygon fill='#A80036' points='93,1251.0039,83,1255.0039,93,1259.0039,89,1255.0039' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1255.0039' y2='1255.0039'/>
    <a href='#cycle_ending' xlink:href='#cycle_ending' target='_top' title='#cycle_ending' xlink:title='#cycle_ending' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='89' x='274' y='1250.2617'>
        cycle_ending
      </text>
    </a>
    <polygon fill='#A80036' points='93,1280.3145,83,1284.3145,93,1288.3145,89,1284.3145' style='stroke: #A80036; stroke-width: 1.0;'/>
    <line style='stroke: #A80036; stroke-width: 1.0;' x1='87' x2='554' y1='1284.3145' y2='1284.3145'/>
    <a href='#cycle_ended' xlink:href='#cycle_ended' target='_top' title='#cycle_ended' xlink:title='#cycle_ended' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='84' x='276.5' y='1279.5723'>
        cycle_ended
      </text>
    </a>
    <text fill='#000000' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='53' x='292' y='1323.9492'>
      and so on
    </text>
    <path d='M389.594,6.1328 C389.534,6.1328 389.489,6.1768 389.469,6.2268 L386.531,13.0398 L386.5,13.2278 L386.5,14.0408 C386.5,14.1008 386.534,14.1348 386.594,14.1348 L393.407,14.1348 C393.467,14.1348 393.501,14.1008 393.501,14.0408 L393.501,13.2278 L393.47,13.0398 L390.532,6.2268 C390.512,6.1768 390.467,6.1328 390.407,6.1328 L389.594,6.1328 M389.5,9.1328 L390.5,9.1328 L390.5,11.1328 L389.5,11.1328 L389.5,9.1328 M389.5,12.1328 L390.5,12.1328 L390.5,13.1328 L389.5,13.1328 L389.5,12.1328 ' fill='#888888' style='stroke: ; stroke-width: 0.0; stroke-dasharray: ;'/>
    <text fill='#888888' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='186' x='395.5' y='14.6016'>
      Do not test in production, test in
    </text>
    <a href='#WS_API_Services_Sandbox' xlink:href='#WS_API_Services_Sandbox' target='_top' title='#WS_API_Services_Sandbox' xlink:title='#WS_API_Services_Sandbox' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='50' x='585.5' y='14.6016'>
        sandbox
      </text>
    </a>
    <path d='M526.5,1402.7578 L522.75,1409.0078 L525.25,1409.0078 L525.25,1412.7578 L529,1406.5078 L526.5,1406.5078 L526.5,1402.7578 ' fill='#888888' style='stroke: ; stroke-width: 0.0; stroke-dasharray: ;'/>
    <text fill='#888888' font-family='sans-serif' font-size='10' lengthAdjust='spacingAndGlyphs' textLength='0' x='535.5' y='1414.3984'/>
    <a href='https://power.trade' xlink:href='https://power.trade' target='_top' title='https://power.trade' xlink:title='https://power.trade' xlink:actuate='onRequest' xlink:show='new' xlink:type='simple'>
      <text fill='#0000FF' font-family='sans-serif' font-size='9' lengthAdjust='spacingAndGlyphs' text-decoration='underline' textLength='100' x='535.5' y='1414.6094'>
        PowerTrade Exchange
      </text>
    </a>
    <!--MD5=[b98b2244f8b3d24a04a57aa0f5ab926f]
@startuml order_management_protocol



skinparam sequenceMessageAlign center


right header
    <size:12><&warning>Do not test in production, test in [[#WS_API_Services_Sandbox sandbox]]</size>
endheader

right footer <size:15><&bolt></size> <size:9>[[https://power.trade PowerTrade Exchange]]</size>


group <b>[[#session_control_with_auth Session Control Protocol]]</b>

    ... <b>Note</b>: for simplicity, heartbeating ...
    ... is not shown here but it is <b>required</b> ...
    ... <b>to keep session alive</b> ...

    group <b>Order Management Protocol</b>

        group i-Cycle
            Client <- Server : <b>[[#cycle_starting cycle_starting]]</b>
            Client <- Server : <b>[[#cycle_started cycle_started]]</b>
            |||
            group new order entering
                |||
                Client -> Server : <b>[[#enter_order_ltsimple_order_ltaccount_id_gt_gt enter_order<simple_order<account_id>>]]</b>
                ... in case of <b>success</b>: ...
                Client <- Server : <b>[[#order_entered_ltsimple_order_ltaccount_id_gt_gt order_entered<simple_order<account_id>>]]</b>
                ... in case of <b>failure</b>: ...
                Client <- Server : <b>[[#order_action_rejected_ltenter_order_ltsimple_order_ltaccount_id_gt_gt_gt order_action_rejected<enter_order<simple_order<account_id>>>]]</b>
            end

            group cancelation of order using [[#order_token order_token]]:
                |||
                Client -> Server : <b>[[#cancel_order_ltorder_token_gt cancel_order<order_token>]]</b>
                ... in case of <b>success</b>: ...
                Client <- Server : <b>[[#order_cancelled order_cancelled]]</b>
                ... in case of <b>failure</b>: ...
                Client <- Server : <b>[[#order_action_rejected_ltcancel_order_ltorder_token_gt_gt order_action_rejected<cancel_order<order_token>>]]</b>
            end

            group cancelation of order using [[#order_id order_id]]:
                |||
                Client -> Server : <b>[[#cancel_order_ltorder_id_gt cancel_order<order_id>]]</b>
                ... in case of <b>success</b>: ...
                Client <- Server : <b>[[#order_cancelled order_cancelled]]</b>
                ... in case of <b>failure</b>: ...
                Client <- Server : <b>[[#order_action_rejected_ltcancel_order_ltorder_id_gt_gt order_action_rejected<cancel_order<order_id>>]]</b>
            end

            group examples of asynchronous order-related notifications
                |||
                Client <- Server : <b>[[#order_executed order_executed]]</b>
                Client <- Server : <b>[[#order_updated order_updated]]</b>
                Client <- Server : <b>[[#order_restated_ltsimple_order_ltaccount_id_gt_gt order_restated<simple_order<account_id>>]]</b>
            end
            ... and so on ...
            |||
            Client <- Server : <b>[[#cycle_ending cycle_ending]]</b>
            Client <- Server : <b>[[#cycle_ended cycle_ended]]</b>
        end
        ... and so on ...
    end
end

@enduml

PlantUML version 1.2020.06(Sun Apr 05 21:38:32 JST 2020)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 15.0.1+9-18
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: JP
-->
  </g>
</svg>