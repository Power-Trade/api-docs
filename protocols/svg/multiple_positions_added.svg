<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3224px" preserveAspectRatio="none" style="width:1399px;height:3224px;" version="1.1" viewBox="0 0 1399 3224" width="1399px" zoomAndPan="magnify"><defs><filter height="300%" id="f7akg90bs0rpw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="38.2969" y2="513.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="513.4844" y2="554.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="554.2891" y2="967.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="967.8125" y2="1008.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="1008.6172" y2="1168.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="1168.6797" y2="1209.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="1209.4844" y2="1638.1406"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="1638.1406" y2="1678.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="1678.9453" y2="1839.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="1839.0078" y2="1879.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="1879.8125" y2="3018.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="35" x2="35" y1="3018.25" y2="3059.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="35" y1="3059.0547" y2="3183.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="38.2969" y2="513.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="513.4844" y2="554.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="554.2891" y2="967.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="967.8125" y2="1008.6172"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="1008.6172" y2="1168.6797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="1168.6797" y2="1209.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="1209.4844" y2="1638.1406"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="1638.1406" y2="1678.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="1678.9453" y2="1839.0078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="1839.0078" y2="1879.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="1879.8125" y2="3018.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="736" x2="736" y1="3018.25" y2="3059.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="736" x2="736" y1="3059.0547" y2="3183.7188"/><rect fill="#FEFECE" filter="url(#f7akg90bs0rpw)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="22.9951">client</text><rect fill="#FEFECE" filter="url(#f7akg90bs0rpw)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="8" y="3182.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="3202.7139">client</text><rect fill="#FEFECE" filter="url(#f7akg90bs0rpw)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="706" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="713" y="22.9951">server</text><rect fill="#FEFECE" filter="url(#f7akg90bs0rpw)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="706" y="3182.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="713" y="3202.7139">server</text><path d="M40,53.2969 L40,78.2969 L471,78.2969 L471,63.2969 L461,53.2969 L40,53.2969 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M461,53.2969 L461,63.2969 L471,63.2969 L461,53.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="410" x="46" y="70.3638">Client enters an order to take a long position with quantity of 10.</text><polygon fill="#A80036" points="724.5,392.0859,734.5,396.0859,724.5,400.0859,728.5,396.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="730.5" y1="396.0859" y2="396.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="103.4966">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="50.5" y="118.6294">"enter_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="58.5" y="133.7622">"order_token": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="661" x="58.5" y="148.895">"client_reference": "0x0000000000000000000000000000000000000000000000000000000000000000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="58.5" y="164.0278">"new_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="66.5" y="179.1606">"simple_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="74.5" y="194.2935">"tradeable_entity_id": 2,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="74.5" y="209.4263">"market_id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="74.5" y="224.5591">"side": "buy",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="74.5" y="239.6919">"time_in_force": "good_for_cycles",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="74.5" y="254.8247">"time_to_live": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="74.5" y="269.9575">"quantity": 10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="74.5" y="285.0903">"price": 100,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="74.5" y="300.2231">"party_data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="82.5" y="315.356">"account_id": 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="74.5" y="330.4888">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="66.5" y="345.6216">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="58.5" y="360.7544">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="50.5" y="375.8872">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="391.02">}</text><polygon fill="#A80036" points="46.5,476.4844,36.5,480.4844,46.5,484.4844,42.5,480.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="480.4844" y2="480.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="445.1528">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="60.5" y="460.2856">"order_entered": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="475.4185">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="537.6948">time passes</text><path d="M741,559.2891 L741,599.2891 L1099,599.2891 L1099,569.2891 L1089,559.2891 L741,559.2891 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089,559.2891 L1089,569.2891 L1099,569.2891 L1089,559.2891 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="747" y="576.356">A partial fill occurs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="747" y="591.4888">order_executed message from Order Entry Gateway.</text><polygon fill="#A80036" points="46.5,701.3516,36.5,705.3516,46.5,709.3516,42.5,705.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="705.3516" y2="705.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="624.6216">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="60.5" y="639.7544">"order_executed": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="654.8872">"executed_price": 100,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="670.02">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="685.1528">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="700.2856">}</text><path d="M741,743.3516 L741,768.3516 L1108,768.3516 L1108,753.3516 L1098,743.3516 L741,743.3516 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1098,743.3516 L1098,753.3516 L1108,753.3516 L1098,743.3516 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="747" y="760.4185">position_added message from Position Data Gateway.</text><polygon fill="#A80036" points="46.5,930.8125,36.5,934.8125,46.5,938.8125,42.5,934.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="934.8125" y2="934.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="793.5513">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="60.5" y="808.6841">"position_added": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="68.5" y="823.8169">"position_id": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="68.5" y="838.9497">"account_id": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="854.0825">"deliverable_id": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="869.2153">"position_type": "long",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="884.3481">"executed_price": 100,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="899.481">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="914.6138">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="929.7466">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="992.0229">time passes</text><polygon fill="#A80036" points="46.5,1131.6797,36.5,1135.6797,46.5,1139.6797,42.5,1135.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="1135.6797" y2="1135.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1024.6841">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="60.5" y="1039.8169">"position_priced": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="68.5" y="1054.9497">"position_id": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="1070.0825">"mark_price": 102,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="68.5" y="1085.2153">"calculated_position": 1020,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="68.5" y="1100.3481">"profit_loss": 20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1115.481">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1130.6138">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="1192.8901">time passes</text><path d="M741,1214.4844 L741,1254.4844 L1099,1254.4844 L1099,1224.4844 L1089,1214.4844 L741,1214.4844 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089,1214.4844 L1089,1224.4844 L1099,1224.4844 L1089,1214.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="747" y="1231.5513">Remaining order is filled.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="747" y="1246.6841">order_executed message from Order Entry Gateway.</text><polygon fill="#A80036" points="46.5,1356.5469,36.5,1360.5469,46.5,1364.5469,42.5,1360.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="1360.5469" y2="1360.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1279.8169">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="60.5" y="1294.9497">"order_executed": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="1310.0825">"executed_price": 100,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="1325.2153">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1340.3481">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1355.481">}</text><path d="M741,1398.5469 L741,1453.5469 L1179,1453.5469 L1179,1408.5469 L1169,1398.5469 L741,1398.5469 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1169,1398.5469 L1169,1408.5469 L1179,1408.5469 L1169,1398.5469 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="417" x="747" y="1415.6138">position_updated message received from Position Data Gateway.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="354" x="747" y="1430.7466">Note: the old position_id has been updated from 1 to 3.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="747" y="1445.8794">This is the new position_id to track.</text><polygon fill="#A80036" points="46.5,1601.1406,36.5,1605.1406,46.5,1609.1406,42.5,1605.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="1605.1406" y2="1605.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1479.0122">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="60.5" y="1494.145">"position_updated": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="68.5" y="1509.2778">"old_position_id": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="68.5" y="1524.4106">"new_position_id": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="1539.5435">"position_type": "long",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="1554.6763">"executed_price": 100,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="1569.8091">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1584.9419">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1600.0747">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="1662.3511">time passes</text><polygon fill="#A80036" points="46.5,1802.0078,36.5,1806.0078,46.5,1810.0078,42.5,1806.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="1806.0078" y2="1806.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1695.0122">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="60.5" y="1710.145">"position_priced": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="68.5" y="1725.2778">"position_id": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="1740.4106">"mark_price": 105,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="68.5" y="1755.5435">"calculated_position": 1050,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="68.5" y="1770.6763">"profit_loss": 50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="1785.8091">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="1800.9419">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="1863.2183">time passes</text><path d="M40,1884.8125 L40,1939.8125 L661,1939.8125 L661,1894.8125 L651,1884.8125 L40,1884.8125 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M651,1884.8125 L651,1894.8125 L661,1894.8125 L651,1884.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="369" x="46" y="1901.8794">Enter an order to sell more than the current long position.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="414" x="46" y="1917.0122">The net effect will be that the client ends up with a short position.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="600" x="46" y="1932.145">This will result in the generation of a position_removed message followed by a position_added.</text><polygon fill="#A80036" points="724.5,2253.8672,734.5,2257.8672,724.5,2261.8672,728.5,2257.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35.5" x2="730.5" y1="2257.8672" y2="2257.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="1965.2778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="50.5" y="1980.4106">"enter_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="58.5" y="1995.5435">"order_token": 2,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="661" x="58.5" y="2010.6763">"client_reference": "0x0000000000000000000000000000000000000000000000000000000000000000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="58.5" y="2025.8091">"new_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="66.5" y="2040.9419">"simple_order": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="74.5" y="2056.0747">"tradeable_entity_id": 2,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="74.5" y="2071.2075">"market_id": 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="74.5" y="2086.3403">"side": "sell",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="74.5" y="2101.4731">"time_in_force": "good_for_cycles",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="74.5" y="2116.606">"time_to_live": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="74.5" y="2131.7388">"quantity": 15,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="74.5" y="2146.8716">"price": 105,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="74.5" y="2162.0044">"party_data": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="82.5" y="2177.1372">"account_id": 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="74.5" y="2192.27">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="66.5" y="2207.4028">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="58.5" y="2222.5356">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="50.5" y="2237.6685">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="42.5" y="2252.8013">}</text><path d="M741,2295.8672 L741,2335.8672 L1387,2335.8672 L1387,2305.8672 L1377,2295.8672 L741,2295.8672 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1377,2295.8672 L1377,2305.8672 L1387,2305.8672 L1377,2295.8672 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="573" x="747" y="2312.9341">order_executed message received for the full long position from the Order Entry Gateway.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="625" x="747" y="2328.0669">order_executed message received for the remaining short position from the Order Entry Gateway.</text><polygon fill="#A80036" points="46.5,2437.9297,36.5,2441.9297,46.5,2445.9297,42.5,2441.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="2441.9297" y2="2441.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2361.1997">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="60.5" y="2376.3325">"order_executed": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="2391.4653">"executed_price": 105,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="68.5" y="2406.5981">"executed_quantity": 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="2421.731">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2436.8638">}</text><polygon fill="#A80036" points="46.5,2567.7266,36.5,2571.7266,46.5,2575.7266,42.5,2571.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="2571.7266" y2="2571.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2490.9966">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="60.5" y="2506.1294">"order_executed": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="2521.2622">"executed_price": 105,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="2536.395">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="2551.5278">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2566.6606">}</text><path d="M741,2609.7266 L741,2649.7266 L1200,2649.7266 L1200,2619.7266 L1190,2609.7266 L741,2609.7266 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1190,2609.7266 L1190,2619.7266 L1200,2619.7266 L1190,2609.7266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="438" x="747" y="2626.7935">position_removed message received from the Position Data Gatway.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="747" y="2641.9263">The client has no long positions.</text><polygon fill="#A80036" points="46.5,2736.6563,36.5,2740.6563,46.5,2744.6563,42.5,2740.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="2740.6563" y2="2740.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2675.0591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="60.5" y="2690.1919">"position_removed": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="68.5" y="2705.3247">"position_id": 3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="2720.4575">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2735.5903">}</text><path d="M741,2778.6563 L741,2818.6563 L1183,2818.6563 L1183,2788.6563 L1173,2778.6563 L741,2778.6563 " fill="#FBFB77" filter="url(#f7akg90bs0rpw)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1173,2778.6563 L1173,2788.6563 L1183,2788.6563 L1173,2778.6563 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="421" x="747" y="2795.7231">position_added message received from the Position Data Gatway.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="747" y="2810.856">The client now has a short position of quantity 5.</text><polygon fill="#A80036" points="46.5,2981.25,36.5,2985.25,46.5,2989.25,42.5,2985.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="2985.25" y2="2985.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2843.9888">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="60.5" y="2859.1216">"position_added": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="68.5" y="2874.2544">"position_id": 8,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="68.5" y="2889.3872">"account_id": 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="2904.52">"deliverable_id": 3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="68.5" y="2919.6528">"position_type": "short",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="68.5" y="2934.7856">"executed_price": 105,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="68.5" y="2949.9185">"executed_quantity": 5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="2965.0513">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="2980.1841">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="3042.4604">time passes</text><polygon fill="#A80036" points="46.5,3136.7188,36.5,3140.7188,46.5,3144.7188,42.5,3140.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="735.5" y1="3140.7188" y2="3140.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="3075.1216">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="60.5" y="3090.2544">"position_priced": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="68.5" y="3105.3872">"position_id": 8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="60.5" y="3120.52">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="52.5" y="3135.6528">}</text><!--MD5=[ff6df01cd472e9d87bf233d9f71155bd]
@startuml
note right of "client" : Client enters an order to take a long position with quantity of 10.
"client" -> "server" : {\n  "enter_order": {\n    "order_token": 1,\n    "client_reference": "0x0000000000000000000000000000000000000000000000000000000000000000",\n    "new_order": {\n      "simple_order": {\n        "tradeable_entity_id": 2,\n        "market_id": 0,\n        "side": "buy",\n        "time_in_force": "good_for_cycles",\n        "time_to_live": 1,\n        "quantity": 10,\n        "price": 100,\n        "party_data": {\n          "account_id": 1\n        }\n      }\n    }\n  }\n}
|||
"client" <- "server" : {\n  "order_entered": {}\n}
|||
...time passes...
note right of "server" : A partial fill occurs.\norder_executed message from Order Entry Gateway.
"client" <- "server" : {\n  "order_executed": {\n    "executed_price": 100,\n    "executed_quantity": 5\n  }\n}
|||
note right of "server" : position_added message from Position Data Gateway.
"client" <- "server" : {\n  "position_added": {\n    "position_id": 1,\n    "account_id": 1,\n    "deliverable_id": 3,\n    "position_type": "long",\n    "executed_price": 100,\n    "executed_quantity": 5\n  }\n}
|||
...time passes...
"client" <- "server" : {\n  "position_priced": {\n    "position_id": 1,\n    "mark_price": 102,\n    "calculated_position": 1020,\n    "profit_loss": 20\n  }\n}
|||
...time passes...
note right of "server" : Remaining order is filled.\norder_executed message from Order Entry Gateway.
"client" <- "server" : {\n  "order_executed": {\n    "executed_price": 100,\n    "executed_quantity": 5\n  }\n}
|||
note right of "server" : position_updated message received from Position Data Gateway.\nNote: the old position_id has been updated from 1 to 3.\nThis is the new position_id to track.
"client" <- "server" : {\n  "position_updated": {\n    "old_position_id": 1,\n    "new_position_id": 3,\n    "position_type": "long",\n    "executed_price": 100,\n    "executed_quantity": 5\n  }\n}
|||
...time passes...
"client" <- "server" : {\n  "position_priced": {\n    "position_id": 3,\n    "mark_price": 105,\n    "calculated_position": 1050,\n    "profit_loss": 50\n  }\n}
|||
...time passes...
note right of "client" : Enter an order to sell more than the current long position.\nThe net effect will be that the client ends up with a short position.\nThis will result in the generation of a position_removed message followed by a position_added.
"client" -> "server" : {\n  "enter_order": {\n    "order_token": 2,\n    "client_reference": "0x0000000000000000000000000000000000000000000000000000000000000000",\n    "new_order": {\n      "simple_order": {\n        "tradeable_entity_id": 2,\n        "market_id": 0,\n        "side": "sell",\n        "time_in_force": "good_for_cycles",\n        "time_to_live": 1,\n        "quantity": 15,\n        "price": 105,\n        "party_data": {\n          "account_id": 1\n        }\n      }\n    }\n  }\n}
|||
note right of "server" : order_executed message received for the full long position from the Order Entry Gateway.\norder_executed message received for the remaining short position from the Order Entry Gateway.
"client" <- "server" : {\n  "order_executed": {\n    "executed_price": 105,\n    "executed_quantity": 10\n  }\n}
|||
"client" <- "server" : {\n  "order_executed": {\n    "executed_price": 105,\n    "executed_quantity": 5\n  }\n}
|||
note right of "server" : position_removed message received from the Position Data Gatway.\nThe client has no long positions.
"client" <- "server" : {\n  "position_removed": {\n    "position_id": 3\n  }\n}
|||
note right of "server" : position_added message received from the Position Data Gatway.\nThe client now has a short position of quantity 5.
"client" <- "server" : {\n  "position_added": {\n    "position_id": 8,\n    "account_id": 1,\n    "deliverable_id": 3,\n    "position_type": "short",\n    "executed_price": 105,\n    "executed_quantity": 5\n  }\n}
|||
...time passes...
"client" <- "server" : {\n  "position_priced": {\n    "position_id": 8\n  }\n}
|||
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Debian-1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>